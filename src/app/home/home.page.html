<ion-header>
  <ion-toolbar color="dark">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
        <img src="/assets/img/logo.png" style="width: 8%;">
        <span> Global Truck | Inicio</span>
    </ion-title>
  </ion-toolbar>

  <ion-searchbar placeholder="Buscar productos" color="dark" [(ngModel)]="term" (ionChange)="resultadoBusqueda($event)">
    
  </ion-searchbar>
</ion-header>

<ion-content color="dark">

  <!-- lo que se muestra cuando usamos el buscador -->
  <div *ngIf="estadoBusqueda">
      <div class="item" *ngFor = "let nombre of ( results | async )" button [routerLink] = "['/', 'producto', nombre.UrlAmigable]">
        
        <div class="image" style="position: relative;float: left; height:100%; width: 45%">
          <ion-img src="https://globaltruck.cl/{{ nombre.rutaImagen }}" style="width:100%; height:100%;"></ion-img>
          
        </div>
        <div class="content" style="position: relative;float: right;height:100%; width: 55%;box-sizing: border-box; padding-left:10px; padding-top:10px; ">
          <ion-card-title>{{ nombre.Producto }}</ion-card-title>
          <ion-card-subtitle class="price-descuento">$ {{ nombre.precio }}</ion-card-subtitle>
          <label class="price-after">Antes</label>
          <ion-card-subtitle ><del>$ {{ nombre.sinDescuento }}</del></ion-card-subtitle>
          <!-- test -->
        </div>
      </div>
  </div>

  <!-- lo que se muentra al iniciar la app y al dejar de usar el buscador -->
  <ion-item *ngFor="let push of mensajes">
    <ion-label>
      <h3>{{ push.title }}</h3>
      <p>{{ push.body }}</p>
      <p>{{ push.additionalData | json }}</p>
    </ion-label>
  </ion-item>
  <div *ngIf="mostrar" class="mostrar">
    <div class="item" *ngFor = "let nombre of data" button [routerLink] = "['/', 'producto', nombre.UrlAmigable]">
      <div class="image" style="position: relative;float: left; height:100%; width: 45%">
        <ion-img src="https://globaltruck.cl/{{ nombre.rutaImagen }}" style="width:100%; height:100%;"></ion-img>
        
      </div>
      <div class="content" style="position: relative;float: right;height:100%; width: 55%;box-sizing: border-box; padding-left:10px; padding-top:10px; ">
        <ion-card-title>{{ nombre.Producto }}</ion-card-title>
        <ion-card-subtitle class="price-descuento">$ {{ nombre.precio }}</ion-card-subtitle>
        <label class="price-after">Antes</label>
        <ion-card-subtitle ><del>$ {{ nombre.sinDescuento }}</del></ion-card-subtitle>
      </div>
    </div>
  </div>


</ion-content>
